# План тестирования системы управления дефектами

## 1. Введение

Данный документ описывает подход к тестированию монолитного веб-приложения для централизованного управления дефектами на строительных объектах. Цель тестирования — обеспечить соответствие разработанной системы функциональным и нефункциональным требованиям, а также гарантировать её стабильность, безопасность и производительность.

## 2. Область тестирования

Тестированию подлежат следующие компоненты и аспекты системы:

*   **Функциональные модули:**
    *   Аутентификация и авторизация пользователей.
    *   Управление проектами.
    *   Управление дефектами (создание, редактирование, изменение статусов, приоритизация).
    *   Управление комментариями и вложениями к дефектам.
    *   Формирование отчетов (CSV/Excel).
*   **Нефункциональные требования:**
    *   Производительность (время отклика).
    *   Безопасность (защита от SQL-инъекций, XSS, CSRF, хеширование паролей, контроль доступа к логам).
    *   Надежность (резервное копирование).
    *   Удобство использования (адаптивный интерфейс, русский язык).
    *   Совместимость (браузеры).

## 3. Стратегия тестирования

Будет применена многоуровневая стратегия тестирования, включающая:

1.  **Модульное тестирование (Unit Testing):** Проверка отдельных функций и методов бэкенда и небольших компонентов фронтенда.
2.  **Интеграционное тестирование (Integration Testing):** Проверка взаимодействия между модулями бэкенда, а также между фронтендом и бэкендом.
3.  **Системное тестирование (System Testing):** Комплексная проверка всей системы на соответствие функциональным и нефункциональным требованиям.
4.  **Нагрузочное тестирование (Load Testing):** Оценка производительности системы при заданной нагрузке.
5.  **Регрессионное тестирование (Regression Testing):** Повторное выполнение ранее пройденных тестов для обнаружения новых дефектов или побочных эффектов после изменений.

## 4. Критерии приемки

Система будет считаться принятой, если выполнены следующие критерии:

*   Все критические и основные функциональные требования реализованы и работают корректно.
*   Время отклика страниц соответствует заявленным нефункциональным требованиям (≤ 1 секунды для 50 активных пользователей).
*   Система устойчива к известным атакам (SQL-инъекции, XSS, CSRF).
*   Процесс резервного копирования базы данных работает согласно расписанию.
*   Покрытие кода тестами составляет не менее X% (будет определено).
*   Все пользовательские сценарии (User Stories) пройдены без ошибок.

## 5. Инструменты тестирования

*   **Бэкенд:**
    *   `pytest`: Фреймворк для написания и запуска юнит- и интеграционных тестов.
    *   `httpx` (или `requests`): Для выполнения HTTP-запросов к API в интеграционных тестах.
*   **Фронтенд:**
    *   `Jest`, `React Testing Library`: Для юнит- и интеграционного тестирования React-компонентов.
    *   `Cypress` (или `Playwright`): Для сквозного (E2E) тестирования пользовательских сценариев.
*   **Нагрузочное тестирование:**
    *   `Locust` (или `JMeter`):

## 6. Процесс тестирования

1.  **Планирование:** Определение тестовых случаев, сценариев, данных и окружения.
2.  **Разработка тестов:** Написание модульных, интеграционных и сквозных тестов.
3.  **Выполнение тестов:** Автоматическое и ручное выполнение тестов.
4.  **Анализ результатов:** Оценка результатов, регистрация дефектов.
5.  **Повторное тестирование:** После исправления дефектов проводится регрессионное тестирование.

## 7. Тестовые сценарии (Примеры)

### 7.1. Модульные тесты (Backend)

*   **Users:**
    *   Проверка создания нового пользователя.
    *   Проверка получения пользователя по ID, email, username.
    *   Проверка хеширования и верификации паролей.
*   **Projects:**
    *   Проверка создания проекта.
    *   Проверка получения проекта по ID, списка проектов.
    *   Проверка обновления и удаления проекта.
*   **Defects:**
    *   Проверка создания дефекта.
    *   Проверка получения дефекта по ID, списка дефектов с фильтрацией.
    *   Проверка обновления статуса и приоритета дефекта.
    *   Проверка удаления дефекта.

### 7.2. Интеграционные тесты (Backend API)

*   Регистрация пользователя -> Вход -> Получение своего профиля.
*   Вход менеджера -> Создание проекта -> Создание дефекта в проекте -> Назначение инженера на дефект.
*   Вход инженера -> Обновление статуса дефекта.
*   Создание дефекта -> Добавление комментария -> Добавление вложения.

### 7.3. Системные тесты (Frontend + Backend)

*   Полный цикл работы с дефектом от создания до закрытия.
*   Проверка отображения отчетов.
*   Проверка адаптивности интерфейса.

## 8. Отчётность по тестированию

По результатам тестирования будет сформирован отчет, включающий:

*   Статус выполнения тестовых случаев.
*   Обнаруженные дефекты и их статус.
*   Результаты нагрузочного тестирования.
*   Покрытие кода тестами.
*   Общая оценка готовности системы.
